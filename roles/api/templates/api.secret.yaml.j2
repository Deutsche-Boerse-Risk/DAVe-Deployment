# The secrets should be base64 encoded
apiVersion: v1
kind: Secret
metadata:
  name: dave-api
  namespace: {{ namespace }}
  labels:
    app: dave
    layer: api
    project: dave
data:
  http.auth_salt: {{ auth_salt }}
  http.private_key: {{ lookup('file', api_key_path) | b64encode }}
  http.public_key: {{ lookup('file', api_cert_path) | b64encode }}
  jwt.keystore: {{ lookup('file', jwt_keystore_path) | b64encode | b64encode }}
  jwt.keystore_password: {{ jwt_keystore_password }}
